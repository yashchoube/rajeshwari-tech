<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Click Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        button { padding: 10px 20px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background-color: #007bff; color: white; }
        .result { margin-top: 10px; padding: 10px; border-radius: 4px; }
        .toolbar { 
            display: flex; 
            gap: 5px; 
            padding: 10px; 
            background: #f8f9fa; 
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .toolbar button { 
            padding: 8px 12px; 
            border: 1px solid #ddd; 
            background: white; 
            cursor: pointer; 
            border-radius: 4px;
        }
        .toolbar button:hover { 
            background: #e9ecef; 
        }
    </style>
</head>
<body>
    <h1>Upload Button Click Test</h1>
    
    <div class="test-section">
        <h2>Test: Button Click Triggers File Input</h2>
        <div class="toolbar">
            <button onclick="testButtonClick()" class="btn-primary">
                üì§ Upload (Click Me)
            </button>
            <input 
                type="file" 
                id="testFileInput" 
                accept="image/*" 
                style="display: none;"
                onchange="handleFileSelect()"
            />
        </div>
        <div id="testResult" class="result" style="display: none;"></div>
    </div>

    <div class="test-section">
        <h2>Console Logs</h2>
        <div id="consoleLogs" style="background: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;"></div>
    </div>

    <script>
        // Override console.log to show in our page
        const originalLog = console.log;
        const originalError = console.error;
        const logDiv = document.getElementById('consoleLogs');
        
        function addLog(message, type = 'log') {
            const div = document.createElement('div');
            div.style.color = type === 'error' ? 'red' : 'black';
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(div);
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addLog(args.join(' '), 'log');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addLog(args.join(' '), 'error');
        };

        function testButtonClick() {
            console.log('Button clicked!');
            const fileInput = document.getElementById('testFileInput');
            
            if (fileInput) {
                console.log('File input found, triggering click...');
                fileInput.click();
            } else {
                console.error('File input not found!');
            }
        }

        function handleFileSelect() {
            console.log('File input changed!');
            const fileInput = document.getElementById('testFileInput');
            const file = fileInput.files[0];
            const resultDiv = document.getElementById('testResult');
            
            if (file) {
                console.log('File selected:', file.name, file.type, file.size);
                resultDiv.style.display = 'block';
                resultDiv.className = 'result success';
                resultDiv.innerHTML = `‚úÖ File selected: ${file.name} (${file.type}, ${(file.size / 1024).toFixed(2)} KB)`;
            } else {
                console.log('No file selected');
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = '‚ùå No file selected';
            }
        }

        console.log('Test page loaded');
    </script>
</body>
</html>
